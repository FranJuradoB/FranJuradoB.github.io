{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"PRACTICA25/","title":"Practica 2.5: Proxy Inverso y Balanceo de Carga con SSL en NGINX","text":""},{"location":"PRACTICA25/#indice","title":"\u00cdndice","text":"<ul> <li>Creaci\u00f3n de Certificado Autofirmado</li> <li>Configuraci\u00f3n SSL en el Proxy Inverso</li> <li>Comprobaciones</li> <li>Redirecci\u00f3n Forzosa a HTTPS</li> <li>Cuestiones Finales</li> </ul>"},{"location":"PRACTICA25/#creacion-de-certificado-autofirmado","title":"Creaci\u00f3n de Certificado Autofirmado","text":"<p>Para esta pr\u00e1ctica vamos a necesitar un certificado SSL autofirmado. Un certificado autofirmado es un certificado de servidor que es firmado por la propia entidad que lo emite. En lugar de confiar en una entidad de certificaci\u00f3n (CA) de confianza, los certificados autofirmados son firmados por la misma persona que los emite. Por lo tanto, no son confiables y no se pueden verificar autom\u00e1ticamente.</p> <p>En un entorno de producci\u00f3n, siempre debe utilizar un certificado SSL firmado por una CA de confianza. Sin embargo, para fines de desarrollo y pruebas, un certificado autofirmado es una buena opci\u00f3n.</p> <p>Se crear\u00e1 una carpeta en <code>/etc/nginx/ssl</code> donde se almacenar\u00e1n los certificados y las claves asociadas a ellos (privada/p\u00fablica).</p> <p>Veamos pues el proceso para generar los certificados y las claves asociadas a ellos (privada/p\u00fablica). En primer lugar debemos crear el siguiente directorio:</p> <pre><code>sudo mkdir -p /etc/nginx/ssl\n</code></pre> <p></p> <p>Una vez creado el directorio, se ejecutar\u00e1 el siguiente comando:</p> <pre><code>sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout /etc/nginx/ssl/server.key -out /etc/nginx/ssl/server.crt\n</code></pre> <p></p>"},{"location":"PRACTICA25/#configuracion-ssl-en-el-proxy-inverso","title":"Configuraci\u00f3n SSL en el Proxy Inverso","text":"<p>Hecho esto, se proceder\u00e1 a configurar nuestro proxy-inverso. Para ello se deber\u00e1n de realizar los siguientes pasos:</p> <ol> <li>Editar el archivo de configuraci\u00f3n del proxy-inverso.</li> <li>Hacer un <code>unlink</code> de este en la carpeta <code>sites-enabled</code>.</li> <li>Agregar la configuraci\u00f3n para que acepte los certificados en <code>sites-enabled</code>.</li> </ol> <p>El archivo de configuraci\u00f3n deber\u00e1 de quedar de la siguiente manera:</p> <p></p> <p>Se ejecutar\u00e1 el siguiente comando para hacer un <code>unlink</code> del archivo de configuraci\u00f3n en la carpeta <code>sites-enabled</code>:</p> <p></p> <p>Se ejecutar\u00e1 el siguiente comando para hacer un <code>link</code> del archivo de configuraci\u00f3n en la carpeta <code>sites-enabled</code>:</p> <pre><code>sudo ln -s /etc/nginx/sites-available/ejemplo-proxy /etc/nginx/sites-enabled/\n</code></pre> <p></p>"},{"location":"PRACTICA25/#comprobaciones","title":"Comprobaciones","text":"<p>Las comprobaciones se deber\u00e1n hacer desde un navegador externo, en el cual accederemos a <code>ejemplo-proxy.com</code>. Para ello, se deber\u00e1 tener activa una m\u00e1quina de webserver.</p> <p></p> <p>Una vez dentro, haremos clic en \"Aceptar el riesgo y continuar\" para proceder con la redirecci\u00f3n. Lo importante es verificar si los certificados est\u00e1n correctamente configurados, para ello, haremos clic en el icono del candado ubicado junto a la barra de direcciones de nuestro navegador.</p> <p></p> <p>A continuaci\u00f3n, veremos la configuraci\u00f3n. Debemos acceder a la secci\u00f3n de ver certificado, donde se mostrar\u00e1 toda la configuraci\u00f3n junto con las claves.</p> <p></p> <p></p> <p>Como se puede observar, el certificado est\u00e1 correctamente configurado y es v\u00e1lido.</p>"},{"location":"PRACTICA25/#redireccion-forzosa-a-https","title":"Redirecci\u00f3n Forzosa a HTTPS","text":"<p>Para forzar la redirecci\u00f3n a HTTPS, se deber\u00e1 de modificar el archivo de configuraci\u00f3n del proxy-inverso. Se deber\u00e1 de agregar la siguiente configuraci\u00f3n:</p> <p></p> <p>Una vez hecho esto, se deber\u00e1 de reiniciar el servicio de nginx:</p> <pre><code>sudo systemctl restart nginx\n</code></pre> <p>Para comprobar que la redirecci\u00f3n a HTTPS est\u00e1 funcionando correctamente, se deber\u00e1 de acceder a nuestro sitio web y verificar que la redirecci\u00f3n se ha realizado correctamente.</p>"},{"location":"PRACTICA25/#cuestiones-finales","title":"Cuestiones Finales","text":""},{"location":"PRACTICA25/#cuestion-1","title":"Cuesti\u00f3n 1","text":"<p>Hemos configurado nuestro proxy inverso con todo lo que nos hace falta pero no nos funciona y da un error del tipo <code>This site can't provide a secure connection, ERR_SSL_PROTOCOL_ERROR</code>.</p> <p>Para resolver el error <code>ERR_SSL_PROTOCOL_ERROR</code>, se asegurar\u00e1 de que el <code>server_name</code> coincida con el dominio utilizado para acceder al sitio. Se verificar\u00e1 que el certificado y la clave SSL est\u00e9n en la ubicaci\u00f3n correcta y tengan los permisos adecuados. Adem\u00e1s de TLS 1.3, se utilizar\u00e1 una lista de cifrados m\u00e1s amplia como <code>ssl_ciphers HIGH:!aNULL:!MD5</code>, y se confirmar\u00e1 que el servicio en <code>proxy_pass</code> sea accesible desde NGINX. Despu\u00e9s de estos ajustes, se reiniciar\u00e1 NGINX y se revisar\u00e1n los logs para identificar posibles problemas adicionales.</p>"},{"location":"PRACTICA25/#cuestion-2","title":"Cuesti\u00f3n 2","text":"<p>Imaginad que intentamos acceder a nuestro sitio web HTTPS y nos encontramos con el siguiente error:</p> <p>El error <code>NET::ERR_CERT_REVOKED</code> significa que el certificado SSL fue revocado y ya no es confiable. Para solucionarlo, se obtendr\u00e1 un nuevo certificado SSL, se configurar\u00e1 el servidor para usarlo y se reiniciar\u00e1 el servidor. Luego, se verificar\u00e1 que el error se haya solucionado accediendo al sitio.</p>"},{"location":"PRACTICA5-1/","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"PRACTICA5-1/#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"PRACTICA5-1/#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"PRACTICA5-1/Ejercicios1/","title":"Ejercicios Git y Github I","text":""},{"location":"PRACTICA5-1/Ejercicios1/#repositorio-deaw","title":"Repositorio DEAW","text":"<p>Crear un repositorio en vuestro GitHub llamado DEAW.</p> <p> </p> <p>Clonar vuestro repositorio en local.</p> <p></p> <p>Le metemos mkdocs instal\u00e1ndolo primero.</p> <p></p> <p>Creamos nuevo proyecto. </p> <p>Podemos modificar el archivo mkdocs.yml con <code>nano</code></p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios1/#readme","title":"Readme","text":"<p>Crear en vuestro repositorio local un documento README.md . </p> <p></p> <p>Agregamos el archivo a nuestro repositorio con <code>git add .</code></p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios1/#commit","title":"Commit","text":"<p>Realizar un commit inicial con el comentario Comenzamos con los ejercicios de Git</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios1/#push","title":"Push","text":"<p>Subir los cambios al repositorio remoto</p> <p></p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios1/#ignorar-archivos","title":"Ignorar archivos","text":"<p>Crear en el repositorio local un fichero llamado privado.txt</p> <p>Crear en el repositorio local una carpeta llamada privada</p> <p></p> <p>Realizar los cambios oportunos para que tanto el archivo como la carpeta sean ignorados por git. </p> <p>Debemos crear primero el archivo <code>.gitignore</code> y lo modificamos poniendo lo que nos interese ocultar:</p> <p></p> <p></p> <p>Vemos que directamente nos lo oculta: </p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios1/#anadir-fichero-1txt","title":"A\u00f1adir fichero 1.txt","text":"<p>Creamos primero el archivo de texto con <code>touch 1.txt</code> y comprobamos su estado con <code>git status</code></p> <p></p> <p>Posteriormente lo a\u00f1adimos con <code>git add .</code></p>"},{"location":"PRACTICA5-1/Ejercicios1/#crear-un-tag-y-subirlo-al-repositorio-remoto","title":"Crear un tag y subirlo al repositorio remoto","text":"<p>Ahora creamos una etiqueta con el comando <code>git tag \"nombre\"</code> y comprobamos que la ha creado list\u00e1ndola con <code>git tag</code></p> <p></p> <p>Y hacemos commit de dicho cambio: </p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios1/#cuenta-de-github","title":"Cuenta de GitHub","text":"<p>Ahora vamos a personalizar la cuenta de GitHub, en cuanto a su apariencia. Concretamente podemos modificar la foto de perfil, que por razones de privacidad no pondr\u00e9 la m\u00eda. Nos ce\u00f1imos a una imagen cualquiera, pero se puede modificar en la siguiente interfaz.</p> <p></p> <p>Tambi\u00e9n podemos modificar el llamado doble-factor de autenticaci\u00f3n, para tener una capa extra de protecci\u00f3n en nuestra cuenta.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios1/#uso-social-de-github","title":"Uso social de GitHub","text":"<p>Preguntar los nombres de usuario de GitHub de 2 de tus compa\u00f1eros de clase, b\u00fascalos y s\u00edgueles.</p> <p>Seguir los repositorios DEAW del resto de tus compa\u00f1eros.</p> <p></p> <p>A\u00f1adir una estrella a los repositorios DEAW del resto de tus compa\u00f1eros.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios1/#crear-una-tabla","title":"Crear una tabla","text":"<p>Crear una tabla en el fichero README.md con la informaci\u00f3n b\u00e1sica de los compa\u00f1eros de clase.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios1/#colaboradores","title":"Colaboradores","text":"<p>A\u00f1adir a un compa\u00f1ero de clase como colaborador del repositorio DEAW.</p> <p> </p>"},{"location":"PRACTICA5-1/Ejercicios1/#crear-una-rama-v02-y-anadir-un-fichero-2txt","title":"Crear una rama v0.2 y a\u00f1adir un fichero 2.txt","text":"<p>Crear una rama v0.2 y cambiar a esa rama.</p> <p>Con la opci\u00f3n <code>git checkout -b v0.2</code> creamos la rama y nos cambiamos autom\u00e1ticamente a ella.</p> <p></p> <p>Creamos el archivo de texto con <code>touch 2.txt</code> y lo modificamos con <code>nano 2.txt</code> y finalmente comprobamos como siempre con <code>git status</code></p>"},{"location":"PRACTICA5-1/Ejercicios1/#crear-rama-remota-v02","title":"Crear rama remota v0.2","text":"<p>Creamos la rama remota con el comando <code>git push -u origin v0.2</code></p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios1/#merge-directo","title":"Merge Directo","text":"<p>Posicionarse en la rama master.</p> <p>Hacer un merge de la rama v0.2 en la rama master.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios1/#merge-con-conflicto","title":"Merge con conflicto","text":"<p>En la rama master poner Hola en el fichero 1.txt y hacer commit.</p> <p>Posicionarse en la rama v0.2 y poner Adios en el fichero 1.txt y hacer commit.</p> <p>Posicionarse de nuevo en la rama master y hacer un merge con la rama v0.2</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios1/#listado-de-ramas","title":"Listado de ramas","text":""},{"location":"PRACTICA5-1/Ejercicios1/#arreglar-el-conflicto","title":"Arreglar el conflicto","text":""},{"location":"PRACTICA5-1/Ejercicios1/#listado-de-ramas_1","title":"Listado de ramas","text":"<p>Tenemos varias opciones para ello. Actualmente no me muestra como deber\u00eda por estar usando window con bash en vez de linux:</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/","title":"Ejercicios Git y GitHub 2","text":""},{"location":"PRACTICA5-1/Ejercicios2/#ejercicios-de-creacion-y-actualizacion-de-repositorios","title":"Ejercicios de Creaci\u00f3n y Actualizaci\u00f3n de Repositorios","text":""},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-1","title":"Ejercicio 1","text":"<p>Configurar Git definiendo el nombre del usuario, el correo electr\u00f3nico y activar el coloreado de la salida.</p> <p>Mostrar la configuraci\u00f3n final:</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-2","title":"Ejercicio 2","text":"<p>Crear un repositorio nuevo con el nombre libro y mostrar su contenido.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-3","title":"Ejercicio 3","text":"<p>Comprobar el estado del repositorio. Crear un fichero indice.txt con el siguiente contenido:</p> <p>Cap\u00edtulo 1: Introducci\u00f3n a Git Cap\u00edtulo 2: Flujo de trabajo b\u00e1sico Cap\u00edtulo 3: Repositorios remotos</p> <p>Comprobar de nuevo el estado del repositorio.</p> <p>A\u00f1adir el fichero a la zona de intercambio temporal. Volver a comprobar una vez m\u00e1s el estado del repositorio.</p> <p></p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-4","title":"Ejercicio 4","text":"<p>Realizar un commit de los \u00faltimos cambios con el mensaje \"A\u00f1adido \u00edndice del libro\" y ver el estado del repositorio.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-5","title":"Ejercicio 5","text":"<p>Cambiar el fichero indice.txt para que contenga lo siguiente: </p> <p>Cap\u00edtulo 1: Introducci\u00f3n a Git  Cap\u00edtulo 2: Flujo de trabajo b\u00e1sico  Cap\u00edtulo 3: Gesti\u00f3n de ramas  Cap\u00edtulo 4: Repositorios remotos</p> <p></p> <p>Mostrar los cambios con respecto a la \u00faltima versi\u00f3n guardada en el repositorio.</p> <p>Hacer un commit de los cambios con el mensaje \u201cA\u00f1adido cap\u00edtulo 3 sobre gesti\u00f3n de ramas\u201d.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-6","title":"Ejercicio 6","text":"<p>Mostrar los cambios de la \u00faltima versi\u00f3n del repositorio con respecto a la anterior.</p> <p>Cambiar el mensaje del \u00faltimo commit por \u201cA\u00f1adido cap\u00edtulo 3 sobre gesti\u00f3n de ramas al \u00edndice.\u201d</p> <p>Volver a mostrar los \u00faltimos cambios del repositorio.</p> <p></p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicios-de-manejo-del-historial-de-cambios","title":"Ejercicios de manejo del historial de cambios","text":""},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-1_1","title":"Ejercicio 1","text":"<p>Mostrar el historial de cambios del repositorio.</p> <p>Crear la carpeta capitulos y crear dentro de ella el fichero capitulo1.txt con el siguiente texto.</p> <p>Git es un sistema de control de versiones ideado por Linus Torvalds.</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal.</p> <p>Hacer un commit de los cambios con el mensaje \u201cA\u00f1adido cap\u00edtulo 1.\u201d Volver a mostrar el historial de cambios del repositorio.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-2_1","title":"Ejercicio 2","text":"<p>Crear el fichero capitulo2.txt en la carpeta capitulos con el siguiente texto.</p> <p>El flujo de trabajo b\u00e1sico con Git consiste en: 1- Hacer cambios en el repositorio. 2- A\u00f1adir los cambios a la zona de intercambio temporal. 3- Hacer un commit de los cambios.</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal.</p> <p>Hacer un commit de los cambios con el mensaje \u201cA\u00f1adido cap\u00edtulo 2.\u201d</p> <p>Mostrar las diferencias entre la \u00faltima versi\u00f3n y dos versiones anteriores.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-3_1","title":"Ejercicio 3","text":"<p>Crear el fichero capitulo3.txt en la carpeta capitulos con el siguiente texto.</p> <p>Git permite la creaci\u00f3n de ramas lo que permite tener distintas versiones del mismo proyecto y trabajar de manera simultanea en ellas.</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal.</p> <p>Hacer un commit de los cambios con el mensaje \u201cA\u00f1adido cap\u00edtulo 3.\u201d</p> <p>Mostrar las diferencias entre la primera y la \u00faltima versi\u00f3n del repositorio.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-4_1","title":"Ejercicio 4","text":"<p>A\u00f1adir al final del fichero indice.txt la siguiente l\u00ednea:</p> <p>Cap\u00edtulo 5: Conceptos avanzados</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal.</p> <p>Hacer un commit de los cambios con el mensaje \u201cA\u00f1adido cap\u00edtulo 5 al \u00edndice.\u201d.</p> <p>Mostrar qui\u00e9n ha hecho cambios sobre el fichero indice.txt.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicios-de-deshacer-cambios","title":"Ejercicios de deshacer cambios","text":""},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-1_2","title":"Ejercicio 1","text":"<p>Eliminar la \u00faltima l\u00ednea del fichero indice.txt y guardarlo.</p> <p>Comprobar el estado del repositorio.</p> <p>Deshacer los cambios realizados en el fichero indice.txt para volver a la versi\u00f3n anterior del fichero.</p> <p>Volver a comprobar el estado del repositorio.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-2_2","title":"Ejercicio 2","text":"<p>Eliminar la \u00faltima l\u00ednea del fichero indice.txt y guardarlo.</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal.</p> <p>Comprobar de nuevo el estado del repositorio.</p> <p>Quitar los cambios de la zona de intercambio temporal, pero mantenerlos en el directorio de trabajo.</p> <p>Comprobar de nuevo el estado del repositorio.</p> <p>Deshacer los cambios realizados en el fichero indice.txt para volver a la versi\u00f3n anterior del fichero.</p> <p>Volver a comprobar el estado del repositorio.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-3_2","title":"Ejercicio 3","text":"<p>Eliminar la \u00faltima l\u00ednea del fichero indice.txt y guardarlo.</p> <p>Eliminar el fichero capitulos/capitulo3.txt.</p> <p>A\u00f1adir un fichero nuevo capitulos/capitulo4.txt vac\u00edo.</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal.</p> <p>Comprobar de nuevo el estado del repositorio.</p> <p>Quitar los cambios de la zona de intercambio temporal, pero mantenerlos en el directorio de trabajo.</p> <p>Comprobar de nuevo el estado del repositorio.</p> <p>Deshacer los cambios realizados para volver a la versi\u00f3n del repositorio.</p> <p>Volver a comprobar el estado del repositorio.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-4_2","title":"Ejercicio 4","text":"<p>Eliminar la \u00faltima l\u00ednea del fichero indice.txt y guardarlo.</p> <p>Eliminar el fichero capitulos/capitulo3.txt.</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal y hacer un commit con el mensaje \u201cBorrado accidental.\u201d</p> <p>Comprobar el historial del repositorio.</p> <p>Deshacer el \u00faltimo commit pero mantener los cambios anteriores en el directorio de trabajo y la zona de intercambio temporal.</p> <p>Comprobar el historial y el estado del repositorio.</p> <p>Volver a hacer el commit con el mismo mensaje de antes.</p> <p>Deshacer el \u00faltimo commit y los cambios anteriores del directorio de trabajo volviendo a la versi\u00f3n anterior del repositorio.</p> <p>Comprobar de nuevo el historial y el estado del repositorio.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicios-de-gestion-de-ramas","title":"Ejercicios de gesti\u00f3n de ramas","text":""},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-1_3","title":"Ejercicio 1","text":"<p>Crear una nueva rama bibliografia y mostrar las ramas del repositorio.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-2_3","title":"Ejercicio 2","text":"<p>Crear el fichero capitulos/capitulo4.txt y a\u00f1adir el texto siguiente</p> <p>En este cap\u00edtulo veremos c\u00f3mo usar GitHub para alojar repositorios en remoto.</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal.</p> <p>Hacer un commit con el mensaje \u201cA\u00f1adido cap\u00edtulo 4.\u201d</p> <p>Mostrar la historia del repositorio incluyendo todas las ramas.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-3_3","title":"Ejercicio 3","text":"<p>Cambiar a la rama bibliografia.</p> <p>Crear el fichero bibliografia.txt y a\u00f1adir la siguiente referencia</p> <p>Chacon, S. and Straub, B. Pro Git. Apress.</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal.</p> <p>Hacer un commit con el mensaje \u201cA\u00f1adida primera referencia bibliogr\u00e1fica.\u201d</p> <p>Mostrar la historia del repositorio incluyendo todas las ramas.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-4_3","title":"Ejercicio 4","text":"<p>Fusionar la rama bibliografia con la rama master.</p> <p>Mostrar la historia del repositorio incluyendo todas las ramas.</p> <p>Eliminar la rama bibliografia.</p> <p>Mostrar de nuevo la historia del repositorio incluyendo todas las ramas.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-5_1","title":"Ejercicio 5","text":"<p>Crear la rama bibliografia.</p> <p>Cambiar a la rama bibliografia.</p> <p>Cambiar el fichero bibliografia.txt para que contenga las siguientes referencias:</p> <p>Scott Chacon and Ben Straub. Pro Git. Apress. Ryan Hodson. Ry\u2019s Git Tutorial. Smashwords (2014)</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal y hacer un commit con el mensaje \u201cA\u00f1adida nueva referencia bibliogr\u00e1fica.\u201d</p> <p>Cambiar a la rama master.</p> <p>Cambiar el fichero bibliografia.txt para que contenga las siguientes referencias:</p> <p>Chacon, S. and Straub, B. Pro Git. Apress. Loeliger, J. and McCullough, M. Version control with Git. O\u2019Reilly.</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal y hacer un commit con el mensaje \u201cA\u00f1adida nueva referencia bibliogr\u00e1fica.\u201d</p> <p>Fusionar la rama bibliografia con la rama master.</p> <p>Resolver el conflicto dejando el fichero bibliografia.txt con las referencias:</p> <p>Chacon, S. and Straub, B. Pro Git. Apress. Loeliger, J. and McCullough, M. Version control with Git. O\u2019Reilly. Hodson, R. Ry\u2019s Git Tutorial. Smashwords (2014)</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal y hacer un commit con el mensaje \u201cResuelto conflicto de bibliograf\u00eda.\u201d</p> <p>Mostrar la historia del repositorio incluyendo todas las ramas.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicios-de-repositorios-remotos","title":"Ejercicios de repositorios remotos","text":""},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-1_4","title":"Ejercicio 1","text":"<p>Crear un nuevo repositorio p\u00fablico en GitHub con el nombre libro-git.</p> <p></p> <p>A\u00f1adirlo al repositorio local del libro.</p> <p>Mostrar todos los repositorios remotos configurados.</p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-2_4","title":"Ejercicio 2","text":"<p>A\u00f1adir los cambios del repositorio local al repositorio remoto de GitHub.</p> <p>Acceder a GitHub y comprobar que se han subido los cambios mostrando el historial de versiones.</p> <p></p> <p></p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-3_4","title":"Ejercicio 3","text":"<p>Colaborar en el repositorio remoto libro-git de otro usuario.</p> <p>Clonar su repositorio libro-git.</p> <p>A\u00f1adir el fichero autores.txt que contenga el nombre del usuario y su correo electr\u00f3nico.</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal.</p> <p>Hacer un commit con el mensaje \u201cA\u00f1adido autor.\u201d</p> <p>Subir los cambios al repositorio remoto.</p> <p></p> <p>Debemos tener permisos por parte del compa\u00f1ero para poder subir cambios al repositorio.</p>"},{"location":"PRACTICA5-1/Ejercicios2/#ejercicio-4_4","title":"Ejercicio 4","text":"<p>Hacer una bifurcaci\u00f3n del repositorio remoto asalber/libro-git en GitHub.</p> <p>Clonar el repositorio creado en la cuenta de GitHub del usuario.</p> <p>Crear una nueva rama autoria y activarla.</p> <p>A\u00f1adir el nombre del usuario y su correo al fichero autores.txt.</p> <p>A\u00f1adir los cambios a la zona de intercambio temporal.</p> <p>Hacer un commit con el mensaje \u201cA\u00f1adido nuevo autor.\u201d</p> <p>Subir los cambios de la rama autoria al repositorio remoto en GitHub.</p> <p>Hacer un Pull Request de los cambios en la rama autoria.</p> <p>Le damos al bot\u00f3n fork y creamos un nombre, que en nuestro caso le pondremos solamente el n\u00famero 2. </p> <p></p> <p></p> <p></p> <p></p>"},{"location":"PRACTICA6-1/","title":"Pr\u00e1ctica 6.1 - Dockerizaci\u00f3n del despliegue de una aplicaci\u00f3n Node.js","text":""},{"location":"PRACTICA6-1/#despliegue-con-docker","title":"Despliegue con Docker","text":"<p>Empezamos con lo m\u00e1s b\u00e1sico de la pr\u00e1ctica, clonar el respectivo repositorio: <code>git colne https://github.com/raul-profesor/DAW_practica_6.1_2024.git</code></p> <p></p> <p>El repositorio contiene todo lo que necesitaremos para m\u00e1s adelante. Se recomienda instalar previamente la herramienta <code>curl</code> para evitar los problemas que yo he tenido al final.</p>"},{"location":"PRACTICA6-1/#instalacion-de-docker","title":"Instalaci\u00f3n de Docker","text":"<p>Antes de seguir, tenemos que instalar Docker. Para ello usaremos el comando:  <code>sudo apt install -y docker.io</code></p> <p></p>"},{"location":"PRACTICA6-1/#archivo-dockfile","title":"Archivo Dockfile","text":"<p>Ahora que tenemos instalado Docker nos tenemos que mover al directorio correspondiente y modificar el <code>Dockerfile</code>. Tenemos que rellenar esos \"huecos\" libres y que quede de la siguiente forma: </p> <p></p> <p></p> <p>Donde con lo que completamos har\u00e1 que:</p> <ul> <li><code>RUN mkdir -p /opt/app</code> : Crea el directorio /opt/app en el contenedor.</li> <li><code>WORKDIR /opt/app</code>: Establece /opt/app como directorio de trabajo.</li> <li><code>COPY src/package.json src/package-lock.json ./</code>: Copia ficheros package.json y package-lock.json desde el src/ al directorio de trabajo.</li> <li><code>RUN npm intsall</code> : Instala las dependencias de la aplicaci\u00f3n.</li> <li><code>COPY src/ .</code> : Copia el resto del c\u00f3digo de la carpeta src/ al contenedor.</li> <li><code>EXPOSE 3000</code> : Expone el puerto 3000 para que la app se pueda acceder desde fuera del contenedor en s\u00ed.</li> <li><code>CMD [\"npm\", \"run\", \"start:dev\"]</code> : Arranca la aplicaci\u00f3n en modo desarrollo.</li> </ul>"},{"location":"PRACTICA6-1/#construccion-de-la-imagen","title":"Construcci\u00f3n de la imagen","text":"<p>En el contexto actual del directorio de trabajo tenemos que hacer la build de la imagen, con el nombre <code>librodirecciones</code>.</p> <p></p> <p><code>sudo docker build -t librodirecciones .</code></p> <p>Lo siguiente ser\u00e1 iniciar el contenedor en modo demonio, para ponerlo y que escuche las peticiones del puerto 3000 y que coincida con el puerto 3000 del contenedor en s\u00ed.</p> <p><code>docker run -p 3000:3000 -d librodirecciones</code></p> <p></p> <p>Si intentamos acceder a nuestro sitio web con nuestra correspondiente IP, veremos que se produce un error de conexi\u00f3n: Nuestra ip de la m\u00e1quina virtual: </p> <p></p> <p></p>"},{"location":"PRACTICA6-1/#docker-compose","title":"Docker Compose","text":"<p>Para continuar, instalaremos Docker Compose en nuestro sistema, usando el siguiente comando:  <code>sudo apt install docker-compose</code></p> <p></p> <p>Y comprobamos la versi\u00f3n disponible de \u00e9ste cuando lo hayamos instalado: </p> <p><code>docker-compose --version</code></p> <p></p> <p>Si no estuviese el archivo <code>docker-compose.yml</code> deberemos crearlo en el directorio ra\u00edz de nuestro proyecto, donde hemos clonado el repositorio.</p> <p>Tendr\u00eda la siguiente sintaxis: </p> <p></p> <p>Antes de iniciar los contenedores, tenemos que crear una estructura para la base de datos, para ello tenemos que hacer uso del siguiente comando: </p> <p><code>sudo docker-compose run addressbook nmp run migrate</code></p> <p> </p> <p>Y hecho \u00e9sto ya podemos inicializar los contenedores con el comando: <code>sudo docker-compose up --build -d</code></p> <p></p> <p>Ahora podemos hacer un test para comprobar que todo est\u00e1 yendo bien, y nos dar\u00e1 la siguiente salida en la terminal: </p> <p> </p>"},{"location":"PRACTICA6-1/#paso-previo","title":"Paso previo","text":"<p>Para ejecutar los siguientes comando de los ejercicios hay que instalar la herramienta <code>curl</code> del instalador de paquetes de Debian, Ubuntu o la distribuci\u00f3n Linux que estemos utilizando.  Si la instalamos posteriormente es posible que nos de alg\u00fan error como el siguiente: </p> <p></p>"},{"location":"PRACTICA6-1/#ejercicios","title":"Ejercicios","text":"<p>A\u00f1ade una persona: <code>curl -X PUT http://localhost:3000/persons -H'Content-Type: application/json' -d '{\"id\": 1, \"firstName\": \"Ra\u00fal\", \"lastName\": \"Profesor\"}</code></p> <p>Listar todas las personas: <code>curl -X GET http://localhost:3000/persons/all -H 'Content-Type: application/json'</code></p> <p>Buscar una persona por ID: <code>curl -X GET http://localhost:3000/persons/1 -H 'Content-Type: application/json'</code></p> <p>Eliminar una persona: <code>curl -X DELETE http://localhost:3000/persons/1 -H 'Content-Type: application/json'</code></p> <p>Si todo sale bien deber\u00edamos tener una salida como la siguiente:  </p>"},{"location":"PRACTICA6-1/docs/","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"PRACTICA6-1/docs/#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"PRACTICA6-1/docs/#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"PRACTICA6-2/","title":"Pr\u00e1ctica 6.2 - Despliegue de una aplicaci\u00f3n PHP con Nginx y MySQL usando Docker y Docker-Compose","text":""},{"location":"PRACTICA6-2/#proceso-de-dockerizacion-de-nginxphpmysql","title":"Proceso de dockerizaci\u00f3n de Nginx+PHP+MySQL","text":"<p>Nos podemos conectar mediante SSH a nuestra m\u00e1quina virtual.</p> <ol> <li>Estructura de Directorios Para comenzar esta pr\u00e1ctica, se deber\u00e1 tener una estructura de directorios similar a la siguiente:</li> </ol> <p></p> <p></p> <ol> <li>Creaci\u00f3n de un Contenedor Nginx Se deber\u00e1 crear un contenedor Nginx y hacerlo funcionar para que permita alojar la aplicaci\u00f3n PHP.</li> </ol> <p>Para ello, primero, se deber\u00e1 editar el archivo docker-compose.yml con el siguiente contenido:</p> <p></p> <p>Y se iniciar\u00e1 el contenedor Nginx y se comprobar\u00e1 que funciona correctamente.</p> <p></p> <p>El archivo que se ha creado ser\u00e1 el encargado de descargarse la \u00faltima versi\u00f3n de la imagen de Nginx, crear un contenedor con ella y mapear el puerto 80 del contenedor al puerto 8081 del host.</p> <p>Si accedemos a la direcci\u00f3n http://localhost:8081 deber\u00e1 aparecer la siguiente pantalla:</p> <p></p> <ol> <li>Creaci\u00f3n de un Contenedor PHP Editaremos el archivo index.php con el siguiente contenido:</li> </ol> <p></p> <p>Hecho esto se crear\u00e1 el archivo de configuraci\u00f3n default.conf en la carpeta nginx con el siguiente contenido:</p> <p>server {</p> <pre><code> listen 80 default_server;\n root /var/www/html;\n index index.html index.php;\n\n charset utf-8;\n\n location / {\n  try_files $uri $uri/ /index.php?$query_string;\n }\n\n location = /favicon.ico { access_log off; log_not_found off; }\n location = /robots.txt { access_log off; log_not_found off; }\n\n access_log off;\n error_log /var/log/nginx/error.log error;\n\n sendfile off;\n\n client_max_body_size 100m;\n\n location ~ .php$ {\n  fastcgi_split_path_info ^(.+.php)(/.+)$;\n  fastcgi_pass php:9000;\n  fastcgi_index index.php;\n  include fastcgi_params;\n  fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;\n  fastcgi_intercept_errors off;\n  fastcgi_buffer_size 16k;\n  fastcgi_buffers 4 16k;\n}\n\n location ~ /.ht {\n  deny all;\n }\n}\n</code></pre> <p> </p> <p>Y se modificar\u00e1 el archivo Dockerfile dentro del directorio nginx con el siguiente contenido:</p> <p></p> <p>Se deber\u00e1 modificar el archivo docker-compose.yml con el siguiente contenido:</p> <p></p> <p>Con el fichero docker-compose.yml modificado, se crear\u00e1 un contenedor PHP en el puerto 9000 y enlazado con el contenedor Nginx.</p> <p>Ahora levntaremos los contenedores y comprobaremos que funcionan correctamente.</p> <p></p> <p>Si accedemos a la direcci\u00f3n http://localhost:8081 deber\u00e1 aparecer la siguiente pantalla:</p> <p></p> <ol> <li>Creaci\u00f3n de un Contenedor para Datos             nginx:                 build: ./nginx/                 container_name: nginx-container                 ports:                     - 80:80                 links:                     - php                 volumes_from:                     - app-data<pre><code>    php:\n        image: php:7.0-fpm\n        container_name: php-container\n        expose:\n            - 9000\n        volumes_from:\n            - app-data\n\n    app-data:\n        image: php:7.0-fpm\n        container_name: app-data-container\n        volumes:\n            - ./www/html/:/var/www/html/\n        command: \"true\"\n</code></pre> </li> </ol> <p>Se deber\u00e1 crear un contenedor para almacenar los datos. Para ello, se deber\u00e1 modificar el archivo docker-compose.yml con el siguiente contenido:</p> <p></p> <p>Comprobaremos que el contenedor de datos funciona correctamente.</p> <p></p> <p></p> <ol> <li>Creaci\u00f3n de un Contenedor MySQL Se deber\u00e1 crear un contenedor MySQL y hacerlo funcionar para que permita alojar la base de datos de la aplicaci\u00f3n PHP.</li> </ol> <p>Para ello, se deber\u00e1 modificar el archivo Dockerfile del directorio php con el siguiente contenido:</p> <p></p> <p>Se deber\u00e1 modificar el archivo docker-compose.yml con el siguiente contenido:</p> <p></p> <p>Se deber\u00e1 modificar el archivo index.php con el siguiente contenido:</p> <p></p> <p>Se comprueba que el contenedor MySQL funciona correctamente con los comandos ya vistos anteriormente.</p> <ol> <li>Verificaci\u00f3n de Conexi\u00f3n a la Base de Datos Si se accede a la direcci\u00f3n http://localhost:8081 deber\u00e1 aparecer la siguiente pantalla:</li> </ol> <p></p> <p>Pero si se modifica el archivo index.php con el siguiente contenido:</p> <pre><code>$user = 'root';\n$password = 'secret';\n</code></pre> <p>Y deber\u00e1 quedar de la siguiente manera:</p> <p></p> <p>Si se accede a la direcci\u00f3n http://localhost:8081 deber\u00e1 aparecer la siguiente pantalla:</p> <p></p> <p>Con esto se comprueba que la aplicaci\u00f3n PHP se conecta correctamente a la base de datos MySQL.</p> <p>Y con esto se finaliza la pr\u00e1ctica.</p> <ol> <li>Esquema de la Aplicaci\u00f3n</li> </ol> <p></p>"},{"location":"PRACTICA6-3/","title":"Pr\u00e1ctica 6.3 - Despliegue de servidores web con usuarios autenticados mediante LDAP usando Docker y docker-compose","text":""},{"location":"PRACTICA6-3/#despliegue-con-docker-de-nginx-demonio-de-autenticacion-ldap-openldap","title":"Despliegue con Docker de NGINX + demonio de autenticaci\u00f3n LDAP + OpenLDAP","text":"<p>Empezamos creando los archivos necesarios para la pr\u00e1ctica.  Es importante comprobar el arbol de documentos, en mi caso he tenido que instalar <code>tree</code>.</p> <p></p> <p></p> <p>Dentro del directorio app se deber\u00e1 crear un archivo index.html con el siguiente contenido. Lo hacemos sin usar el comando <code>nano</code></p> <p></p> <p></p> <p>Tras hacer esto creamos el archivo ldap_nginx.conf y su configuraci\u00f3n:</p> <pre><code>$ cat &lt;&lt; EOF &gt; conf/ldap_nginx.conf\n    server {\n    listen 8082;\n\n    location = / {\n        auth_request /auth-proxy;\n    }\n\n    location = /auth-proxy {\n        internal;\n\n        proxy_pass http://nginx-ldap:8888;\n\n        # URL y puerto para conectarse al servidor LDAP\n        proxy_set_header X-Ldap-URL \"ldap://openldap:1389\";\n\n        # Base DN\n        proxy_set_header X-Ldap-BaseDN \"dc=example,dc=org\";\n\n        # Bind DN\n        proxy_set_header X-Ldap-BindDN \"cn=admin,dc=example,dc=org\";\n\n        # Bind password\n        proxy_set_header X-Ldap-BindPass \"adminpassword\";\n    }\n}\nEOF\n</code></pre> <p></p> <p>En la configuraci\u00f3n anterior se ha establecido que Nginx escuche en el puerto 8082 para no tener problemas de que est\u00e9 ocupado. Adem\u00e1s, se ha configurado una autenticaci\u00f3n para el directorio /auth-proxy, especificando la URL del servidor OpenLDAP (usando el nombre del contenedor Docker), el DN base para las b\u00fasquedas y las credenciales de acceso para realizar las consultas.</p> <p>Hecho esto, se crear\u00e1 un archivo docker-compose.yml con el siguiente contenido:</p> <p></p> <p>Con el archivo docker-compose.yml creado, se levantar\u00e1n los contenedores y se comprobar\u00e1 que funcionan correctamente.</p> <p></p> <p>Si accedemos a la direcci\u00f3n http://tu-ip:8082 deber\u00e1 aparecer la siguiente pantalla:</p> <p></p> <p>Introducimos las credenciales que usamos anteriormente. Usuario <code>customuser</code> y contrase\u00f1a <code>custompassword</code> en este caso.</p> <p></p>"},{"location":"PRACTICA6-3/#despliegue-con-docker-de-php-apache-con-autenticacion-ldap","title":"Despliegue con Docker de PHP + Apache con autenticaci\u00f3n LDAP","text":"<p>Ahora modificaremos el archivo index.php con el siguiente contenido:</p> <pre><code>&lt;?php\necho 'Ey, hola usuario autenticado por LDAP!';\n?&gt;\n</code></pre> <p></p> <p>Luego, modificamos el archivo Dockerfile del directorio Docker, donde los espacios se cambiar\u00e1n por los comandos pertinentes:</p> <pre><code>    ./Docker/Dockerfile --&gt; directorio donde se encuentra este archivo\n\n    Imagen base sobre la que vamos a trabajar\n    ____ php:7-apache\n\n    Activamos el m\u00f3dulo LDAP de Apache ejecutand el siguiente comando\n    ____ a2enmod authnz_ldap\n\n    A\u00f1adimos las reglas/configuraci\u00f3n de LDAP al directorio conf-enabled de Apache\n    (crearemos este archivo en el siguiente paso)\n    ____ Docker/ldap-demo.conf /etc/apache2/conf-enabled/\n\n    A\u00f1adimos ayuda de depuraci\u00f3n (debugging) en la configuraci\u00f3n de apache\n    En caso de necesitarlo, lo descomentamos para ejecutar el siguiente comando\n    ____ echo \"LogLevel debug\" &gt;&gt; apache2.conf\n\n    Establecemos el directorio de trabajo adecuado\n    ____ /var/www/html/demo\n\n\n    Configuramos Apache para usar la configuraci\u00f3n ldap definida arriba, la copiamos de nuestro ordenador al contenedor\n    ____ Docker/.htaccess ./.htaccess\n\n    Copiamos los archivos del proyecto que necesitamos, al contenedor\n\n    ____ index.php ./\n</code></pre> <p>Tambi\u00e9n modificamos el archivo ldap-demo.conf en Docker:</p> <pre><code>        ./Docker/ldap-demo.conf\n        PassEnv LDAP_BIND_ON\n        PassEnv LDAP_PASSWORD\n        PassEnv LDAP_URL\n        &lt;AuthnProviderAlias ldap demo&gt;\n            AuthLDAPBindDN ${LDAP_BIND_ON}\n            AuthLDAPBindPassword ${LDAP_PASSWORD}\n            AuthLDAPURL ${LDAP_URL}\n        &lt;/AuthnProviderAlias&gt;\n</code></pre> <p></p> <p></p> <p>Y el archivo htaccess se modificar\u00e1 con lo siguiente:</p> <pre><code>    cat &lt;&lt; EOF &gt; Docker/.htaccess\n    AuthBasicProvider demo\n    AuthType Basic\n    AuthName \"Protected Area\"\n    Require valid-user\n    EOF\n</code></pre> <p></p> <p></p> <p>Si todo ha salido bien hasta ahora, se podr\u00e1 ejecutar el siguiente comando para construir una imagen:</p> <p><code>sudo docker build . -t docker-ldap -f ./Docker/Dockerfile</code></p> <p></p> <p>Y si tambi\u00e9n ha salido bien, ejecutaremos un comando para levantar el contenedor pertinente:</p> <p>sudo docker run -p 3000:80 --name ldap_demo \\     -e LDAP_BIND_ON=\"uid=admin,cn=users,cn=accounts,dc=demo1,dc=freeipa,dc=org\" \\     -e LDAP_PASSWORD=\"Secret123\" \\     -e LDAP_URL=\"LDAP://ipa.demo1.freeipa.org\" \\     docker-ldap</p> <p></p> <p>Por \u00faltimo comprobamos que si entramos en la direcci\u00f3n http://nuestra-ip:8082/demo, deber\u00eda preguntarnos para iniciar sesi\u00f3n, entrando esta vez con usuario <code>admin</code> y contrase\u00f1a <code>Secret123</code>.</p> <p></p> <p></p> <p>Y con ello, se acaba la pr\u00e1ctica.</p>"}]}